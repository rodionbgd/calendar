!function(){var t={553:function(t){var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,a=Object.create(o.prototype),c=new P(r||[]);return a._invoke=function(t,e,n){var r=l;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw a;return A()}for(n.method=o,n.arg=a;;){var c=n.delegate;if(c){var i=T(c,n);if(i){if(i===y)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=f(t,e,n);if("normal"===u.type){if(r=n.done?h:d,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(t,n,c),a}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function v(){}function g(){}function b(){}var m={};u(m,a,(function(){return this}));var w=Object.getPrototypeOf,O=w&&w(w(k([])));O&&O!==n&&r.call(O,a)&&(m=O);var E=b.prototype=v.prototype=Object.create(m);function D(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(o,a,c,i){var u=f(t[o],t,a);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,c,i)}),(function(t){n("throw",t,c,i)})):e.resolve(l).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,i)}))}i(u.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function T(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=f(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function k(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,c=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return c.next=c}}return{next:A}}function A(){return{value:e,done:!0}}return g.prototype=b,u(E,"constructor",b),u(b,"constructor",g),g.displayName=u(b,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,i,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},D(S.prototype),u(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var c=new S(s(e,n,r,o),a);return t.isGeneratorFunction(n)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},D(E),u(E,i,"Generator"),u(E,a,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return i.type="throw",i.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var c=this.tryEntries[a],i=c.completion;if("root"===c.tryLoc)return o("end");if(c.tryLoc<=this.prev){var u=r.call(c,"catchLoc"),s=r.call(c,"finallyLoc");if(u&&s){if(this.prev<c.catchLoc)return o(c.catchLoc,!0);if(this.prev<c.finallyLoc)return o(c.finallyLoc)}else if(u){if(this.prev<c.catchLoc)return o(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return o(c.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var c=a?a.completion:{};return c.type=t,c.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},757:function(t,e,n){t.exports=n(553)}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var r={};!function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function o(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a=[],c=!0,i=!1;try{for(n=n.call(t);!(c=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);c=!0);}catch(t){i=!0,o=t}finally{try{c||null==n.return||n.return()}finally{if(i)throw o}}return a}}(t,n)||e(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(n){return function(e){if(Array.isArray(e))return t(e)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||e(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){c(a,r,o,i,u,"next",t)}function u(t){c(a,r,o,i,u,"throw",t)}i(void 0)}))}}n.d(r,{nG:function(){return rn},h:function(){return on},P$:function(){return an}});var u=n(757),s=n.n(u);function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function l(t){return!!t&&!!t[V]}function d(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Z}(t)||Array.isArray(t)||!!t[q]||!!t.constructor[q]||b(t)||m(t))}function p(t,e,n){void 0===n&&(n=!1),0===h(t)?(n?Object.keys:Q)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function h(t){var e=t[V];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:b(t)?2:m(t)?3:0}function y(t,e){return 2===h(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function v(t,e,n){var r=h(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function g(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function b(t){return X&&t instanceof Map}function m(t){return $&&t instanceof Set}function w(t){return t.o||t.t}function O(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=tt(t);delete e[V];for(var n=Q(e),r=0;r<n.length;r++){var o=n[r],a=e[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(e[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function E(t,e){return void 0===e&&(e=!1),S(t)||l(t)||!d(t)||(h(t)>1&&(t.set=t.add=t.clear=t.delete=D),Object.freeze(t),e&&p(t,(function(t,e){return E(e,!0)}),!0)),t}function D(){f(2)}function S(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function T(t){var e=et[t];return e||f(18,t),e}function j(){return G}function _(t,e){e&&(T("Patches"),t.u=[],t.s=[],t.v=e)}function P(t){k(t),t.p.forEach(R),t.p=null}function k(t){t===G&&(G=t.l)}function A(t){return G={p:[],l:G,h:t,m:!0,_:0}}function R(t){var e=t[V];0===e.i||1===e.i?e.j():e.O=!0}function x(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||T("ES5").S(e,t,r),r?(n[V].P&&(P(e),f(4)),d(t)&&(t=L(e,t),e.l||I(e,t)),e.u&&T("Patches").M(n[V].t,t,e.u,e.s)):t=L(e,n,[]),P(e),e.u&&e.v(e.u,e.s),t!==J?t:void 0}function L(t,e,n){if(S(e))return e;var r=e[V];if(!r)return p(e,(function(o,a){return M(t,r,e,o,a,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return I(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=O(r.k):r.o;p(3===r.i?new Set(o):o,(function(e,a){return M(t,r,o,e,a,n)})),I(t,o,!1),n&&t.u&&T("Patches").R(r,n,t.u,t.s)}return r.o}function M(t,e,n,r,o,a){if(l(o)){var c=L(t,o,a&&e&&3!==e.i&&!y(e.D,r)?a.concat(r):void 0);if(v(n,r,c),!l(c))return;t.m=!1}if(d(o)&&!S(o)){if(!t.h.F&&t._<1)return;L(t,o),e&&e.A.l||I(t,o)}}function I(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&E(e,n)}function N(t,e){var n=t[V];return(n?w(n):t)[e]}function F(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function U(t){t.P||(t.P=!0,t.l&&U(t.l))}function B(t){t.o||(t.o=O(t.t))}function Y(t,e,n){var r=b(e)?T("MapSet").N(e,n):m(e)?T("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:j(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},o=r,a=nt;n&&(o=[r],a=rt);var c=Proxy.revocable(o,a),i=c.revoke,u=c.proxy;return r.k=u,r.j=i,u}(e,n):T("ES5").J(e,n);return(n?n.A:j()).p.push(r),r}function C(t){return l(t)||f(22,t),function t(e){if(!d(e))return e;var n,r=e[V],o=h(e);if(r){if(!r.P&&(r.i<4||!T("ES5").K(r)))return r.t;r.I=!0,n=H(e,o),r.I=!1}else n=H(e,o);return p(n,(function(e,o){r&&function(t,e){return 2===h(t)?t.get(e):t[e]}(r.t,e)===o||v(n,e,t(o))})),3===o?new Set(n):n}(t)}function H(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return O(t)}var K,G,W="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),X="undefined"!=typeof Map,$="undefined"!=typeof Set,z="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,J=W?Symbol.for("immer-nothing"):((K={})["immer-nothing"]=!0,K),q=W?Symbol.for("immer-draftable"):"__$immer_draftable",V=W?Symbol.for("immer-state"):"__$immer_state",Z=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Q="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,tt=Object.getOwnPropertyDescriptors||function(t){var e={};return Q(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},et={},nt={get:function(t,e){if(e===V)return t;var n=w(t);if(!y(n,e))return function(t,e,n){var r,o=F(e,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!d(r)?r:r===N(t.t,e)?(B(t),t.o[e]=Y(t.A.h,r,t)):r},has:function(t,e){return e in w(t)},ownKeys:function(t){return Reflect.ownKeys(w(t))},set:function(t,e,n){var r=F(w(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var o=N(w(t),e),a=null==o?void 0:o[V];if(a&&a.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(g(n,o)&&(void 0!==n||y(t.t,e)))return!0;B(t),U(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==N(t.t,e)||e in t.t?(t.D[e]=!1,B(t),U(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=w(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){f(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){f(12)}},rt={};p(nt,(function(t,e){rt[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),rt.deleteProperty=function(t,e){return rt.set.call(this,t,e,void 0)},rt.set=function(t,e,n){return nt.set.call(this,t[0],e,n,t[0])};var ot=function(){function t(t){var e=this;this.g=z,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var o=n;n=t;var a=e;return function(t){var e=this;void 0===t&&(t=o);for(var r=arguments.length,c=Array(r>1?r-1:0),i=1;i<r;i++)c[i-1]=arguments[i];return a.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(c))}))}}var c;if("function"!=typeof n&&f(6),void 0!==r&&"function"!=typeof r&&f(7),d(t)){var i=A(e),u=Y(e,t,void 0),s=!0;try{c=n(u),s=!1}finally{s?P(i):k(i)}return"undefined"!=typeof Promise&&c instanceof Promise?c.then((function(t){return _(i,r),x(t,i)}),(function(t){throw P(i),t})):(_(i,r),x(c,i))}if(!t||"object"!=typeof t){if(void 0===(c=n(t))&&(c=t),c===J&&(c=void 0),e.F&&E(c,!0),r){var l=[],p=[];T("Patches").M(t,c,l,p),r(l,p)}return c}f(21,t)},this.produceWithPatches=function(t,n){if("function"==typeof t)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(o))}))};var r,o,a=e.produce(t,n,(function(t,e){r=t,o=e}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(t){return[t,r,o]})):[a,r,o]},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){d(t)||f(8),l(t)&&(t=C(t));var e=A(this),n=Y(this,t,void 0);return n[V].C=!0,k(e),n},e.finishDraft=function(t,e){var n=(t&&t[V]).A;return _(n,e),x(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!z&&f(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));var o=T("Patches").$;return l(t)?o(t,e):this.produce(t,(function(t){return o(t,e)}))},t}(),at=new ot,ct=at.produce;at.produceWithPatches.bind(at),at.setAutoFreeze.bind(at),at.setUseProxies.bind(at),at.applyPatches.bind(at),at.createDraft.bind(at),at.finishDraft.bind(at);const it=ct;function ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function st(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){ut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var dt="function"==typeof Symbol&&Symbol.observable||"@@observable",pt=function(){return Math.random().toString(36).substring(7).split("").join(".")},ht={INIT:"@@redux/INIT"+pt(),REPLACE:"@@redux/REPLACE"+pt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+pt()}};function yt(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function vt(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(lt(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(lt(1));return n(vt)(t,e)}if("function"!=typeof t)throw new Error(lt(2));var o=t,a=e,c=[],i=c,u=!1;function s(){i===c&&(i=c.slice())}function f(){if(u)throw new Error(lt(3));return a}function l(t){if("function"!=typeof t)throw new Error(lt(4));if(u)throw new Error(lt(5));var e=!0;return s(),i.push(t),function(){if(e){if(u)throw new Error(lt(6));e=!1,s();var n=i.indexOf(t);i.splice(n,1),c=null}}}function d(t){if(!yt(t))throw new Error(lt(7));if(void 0===t.type)throw new Error(lt(8));if(u)throw new Error(lt(9));try{u=!0,a=o(a,t)}finally{u=!1}for(var e=c=i,n=0;n<e.length;n++)(0,e[n])();return t}function p(t){if("function"!=typeof t)throw new Error(lt(10));o=t,d({type:ht.REPLACE})}function h(){var t,e=l;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(lt(11));function n(){t.next&&t.next(f())}return n(),{unsubscribe:e(n)}}})[dt]=function(){return this},t}return d({type:ht.INIT}),(r={dispatch:d,subscribe:l,getState:f,replaceReducer:p})[dt]=h,r}function gt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function bt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(lt(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=e.map((function(t){return t(o)}));return r=gt.apply(void 0,a)(n.dispatch),ft(ft({},n),{},{dispatch:r})}}}function mt(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(o){return"function"==typeof o?o(n,r,t):e(o)}}}}var wt=mt();wt.withExtraArgument=mt;const Ot=wt;var Et,Dt=(Et=function(t,e){return Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Et(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Et(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),St=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},Tt=Object.defineProperty,jt=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),_t=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable,kt=function(t,e,n){return e in t?Tt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},At=function(t,e){for(var n in e||(e={}))_t.call(e,n)&&kt(t,n,e[n]);if(jt)for(var r=0,o=jt(e);r<o.length;r++)n=o[r],Pt.call(e,n)&&kt(t,n,e[n]);return t},Rt="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?gt:gt.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var xt=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.apply(this,n)||this;return Object.setPrototypeOf(o,e.prototype),o}return Dt(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,St([void 0],t[0].concat(this)))):new(e.bind.apply(e,St([void 0],t.concat(this))))},e}(Array);function Lt(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var o=e.apply(void 0,n);if(!o)throw new Error("prepareAction did not return an object");return At(At({type:t,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function Mt(t){var e,n={},r=[],o={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,o},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),o},addDefaultCase:function(t){return e=t,o}};return t(o),[n,r,e]}function It(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof t.initialState?t.initialState:it(t.initialState,(function(){})),o=t.reducers||{},a=Object.keys(o),c={},i={},u={};function s(){var e="function"==typeof t.extraReducers?Mt(t.extraReducers):[t.extraReducers],n=e[0],o=void 0===n?{}:n,a=e[1],c=void 0===a?[]:a,u=e[2],s=void 0===u?void 0:u,f=At(At({},o),i);return function(t,e,n,r){void 0===n&&(n=[]);var o,a="function"==typeof e?Mt(e):[e,n,r],c=a[0],i=a[1],u=a[2];if(function(t){return"function"==typeof t}(t))o=function(){return it(t(),(function(){}))};else{var s=it(t,(function(){}));o=function(){return s}}function f(t,e){void 0===t&&(t=o());var n=St([c[e.type]],i.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[u]),n.reduce((function(t,n){if(n){var r;if(l(t))return void 0===(r=n(t,e))?t:r;if(d(t))return it(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}return f.getInitialState=o,f}(r,f,c,s)}return a.forEach((function(t){var n,r,a=o[t],s=e+"/"+t;"reducer"in a?(n=a.reducer,r=a.prepare):n=a,c[t]=n,i[s]=n,u[t]=r?Lt(s,r):Lt(s)})),{name:e,reducer:function(t,e){return n||(n=s()),n(t,e)},actions:u,caseReducers:c,getInitialState:function(){return n||(n=s()),n.getInitialState()}}}!function(){function t(t,e){var n=o[t];return n?n.enumerable=e:o[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[V];return nt.get(e,t)},set:function(e){var n=this[V];nt.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var o=t[e][V];if(!o.P)switch(o.i){case 5:r(o)&&U(o);break;case 4:n(o)&&U(o)}}}function n(t){for(var e=t.t,n=t.k,r=Q(n),o=r.length-1;o>=0;o--){var a=r[o];if(a!==V){var c=e[a];if(void 0===c&&!y(e,a))return!0;var i=n[a],u=i&&i[V];if(u?u.t!==c:!g(i,c))return!0}}var s=!!e[V];return r.length!==Q(e).length+(s?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);if(n&&!n.get)return!0;for(var r=0;r<e.length;r++)if(!e.hasOwnProperty(r))return!0;return!1}var o={};!function(t,e){et[t]||(et[t]=e)}("ES5",{J:function(e,n){var r=Array.isArray(e),o=function(e,n){if(e){for(var r=Array(n.length),o=0;o<n.length;o++)Object.defineProperty(r,""+o,t(o,!0));return r}var a=tt(n);delete a[V];for(var c=Q(a),i=0;i<c.length;i++){var u=c[i];a[u]=t(u,e||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,e),a={i:r?5:4,A:n?n.A:j(),P:!1,I:!1,D:{},l:n,t:e,k:o,o:null,O:!1,C:!1};return Object.defineProperty(o,V,{value:a,writable:!0}),o},S:function(t,n,o){o?l(n)&&n[V].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[V];if(n){var o=n.t,a=n.k,c=n.D,i=n.i;if(4===i)p(a,(function(e){e!==V&&(void 0!==o[e]||y(o,e)?c[e]||t(a[e]):(c[e]=!0,U(n)))})),p(o,(function(t){void 0!==a[t]||y(a,t)||(c[t]=!1,U(n))}));else if(5===i){if(r(n)&&(U(n),c.length=!0),a.length<o.length)for(var u=a.length;u<o.length;u++)c[u]=!1;else for(var s=o.length;s<a.length;s++)c[s]=!0;for(var f=Math.min(a.length,o.length),l=0;l<f;l++)a.hasOwnProperty(l)||(c[l]=!0),void 0===c[l]&&t(a[l])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}();var Nt={MONTH_RU:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],MONTH_REF:["jan","feb","mar","apr","may","june","july","aug","sep","oct","nov","dec"],YEAR_MONTH_ROUTE:/year\/\d+\/month\/\w+/,YEAR_ROUTE:/year\/(\d+)/,MONTH_ROUTE:/month\/(\w+)/};function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(n),!0).forEach((function(e){ut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Bt,Yt,Ct,Ht,Kt,Gt,Wt,Xt,$t,zt,Jt,qt,Vt,Zt,Qt,te,ee,ne,re,oe,ae,ce,ie,ue,se,fe,le,de,pe,he,ye={currentMonth:(new Date).getMonth(),currentYear:(new Date).getFullYear(),currentDate:(new Date).toDateString()},ve=It({name:"todos",initialState:[],reducers:{createTodoList:{reducer:function(t,e){Object.values(e.payload).forEach((function(e){t.push(e)}))},prepare:function(t){return{payload:Ut({},t)}}},addTodo:{reducer:function(t,e){return[].concat(a(t),[e.payload])},prepare:function(t){return{payload:Ut({},t)}}},updateTodo:{reducer:function(t,e){return t.map((function(t){return Object.keys(t)[0]===Object.keys(e.payload)[0]?e.payload:t}))},prepare:function(t){return{payload:Ut({},t)}}},removeTodos:{reducer:function(t,e){return Object.values(e.payload).forEach((function(e){t=t.filter((function(t){return Object.keys(t)[0]!==e}))})),t},prepare:function(t){return{payload:Ut({},t)}}}}}),ge=It({name:"dates",initialState:ye,reducers:{setPrevMonth:function(t){t.currentMonth-=1,-1===t.currentMonth&&(t.currentMonth=11,t.currentYear-=1)},setNextMonth:function(t){t.currentMonth+=1,12===t.currentMonth&&(t.currentMonth=0,t.currentYear+=1)},setMonthYear:{reducer:function(t,e){Number.isNaN(e.payload.month)||(t.currentMonth=e.payload.month),Number.isNaN(e.payload.year)||(t.currentYear=e.payload.year)},prepare:function(t){return{payload:Ut({},t)}}},setTodoDate:{reducer:function(t,e){t.currentDate=e.payload.date},prepare:function(t){return{payload:Ut({},t)}}}}}),be=ge.actions,me=(be.setPrevMonth,be.setNextMonth,be.setMonthYear),we=be.setTodoDate,Oe=ve.actions,Ee=Oe.createTodoList,De=Oe.addTodo,Se=Oe.updateTodo,Te=Oe.removeTodos,je={STATUS_OK:"OK",STATUS_ERROR:"ERROR",STORAGE_LOCAL:"LOCAL",STORAGE_DB:"DB",TASK_IN_PROCESS:["TASK_IN_PROCESS","в процессе"],TASK_FULFILLED:["TASK_FULFILLED","выполнено"],TASK_EXPIRED:["TASK_EXPIRED","истекло"],UPDATE:"update",DELETE:"delete",ADD_MODE:"add",FILTER_MODE:"filter"};function _e(){Bt=document.getElementById("prev-month-btn"),Yt=document.getElementById("next-month-btn"),Ct=document.getElementById("today-btn"),Ht=document.getElementById("popover"),Kt=document.getElementById("popover-content"),Gt=document.getElementById("current-month-btn"),Wt=document.getElementById("current-year-btn"),Xt=document.getElementById("show-year-btn"),$t=document.getElementById("show-month-btn"),zt=[Xt,$t],Jt=document.getElementById("month-wrapper"),qt=document.getElementById("filter"),Vt=document.getElementById("calendar-wrapper"),Zt=document.getElementById("calendar"),Qt=document.getElementById("today-todos-list"),te=document.getElementById("today-todos-date"),ee=document.getElementById("delete-selected-btn"),ne=document.getElementById("add-todo-btn"),document.getElementById("addTodoModalWrapper"),re=document.getElementById("add-todo-modal")}function Pe(t){t.parentNode.classList.remove("has-error"),t.parentNode.classList.add("has-success")}function ke(t){var e=!0;return t.todoTask.value?Pe(t.todoTask):(t.todoTask.parentNode.classList.add("has-error"),e=!1),t.todoDateFrom.value?Pe(t.todoDateFrom):(t.todoDateFrom.parentNode.classList.add("has-error"),e=!1),t.todoSelectedStatus.value?Pe(t.todoSelectedStatus):(t.todoSelectedStatus.parentNode.classList.add("has-error"),e=!1),t.todoDateTo.value&&new Date(t.todoDateTo.value)<new Date(t.todoDateFrom.value)&&(t.todoDateTo.value=t.todoDateFrom.value),e}function Ae(t,e){var n;if(e&&!ke(t))return null;var r=t.tagsEl.innerHTML.split(": ")[1],o=r?r.replace(/\s+/g,"").split(","):[],a="",c="";if(t.todoDateFrom.value){var i=new Date(t.todoDateFrom.value);a="".concat(new Date(i.getFullYear(),i.getMonth(),i.getDate()))}if(t.todoDateTo.value){var u=new Date(t.todoDateTo.value);c="".concat(new Date(u.getFullYear(),u.getMonth(),u.getDate()))}return n={task:t.todoTask.value?t.todoTask.value:"",date1:a,date2:c,status:t.todoSelectedStatus.value?t.todoSelectedStatus.value:"",tags:o},function(t){t.todoTask.value="",t.todoDateFrom.value="",t.todoDateTo.value="",t.todoSelectedStatus.value="",t.tagsEl.innerHTML="Теги: "}(t),n}function Re(){return{todoTask:fe,todoDateFrom:le,todoDateTo:de,todoSelectedStatus:pe,tagsEl:he}}function xe(t){return Le.apply(this,arguments)}function Le(){return(Le=i(s().mark((function t(e){var n,r,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Re(),!(r=Ae(n,!0))){t.next=18;break}if(ne.dataset.dismiss="modal",ke(n),""!==e){t.next=12;break}return t.next=8,an.createItem(r);case 8:o=t.sent,on.dispatch(De(ut({},o,r))),t.next=16;break;case 12:return t.next=14,an.updateItem(r,Number(e));case 14:on.dispatch(Se(ut({},e,r))),e="";case 16:t.next=19;break;case 18:ne.dataset.dismiss="";case 19:return t.abrupt("return",e);case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Me(t,e){var n=a(t);return Object.entries(e).forEach((function(t){var e=o(t,2),r=e[0],a=e[1];switch(r){case"date1":if(!a)break;n=n.filter((function(t){var e,n=Object.values(t)[0];return e=n.date2?new Date(n.date2):new Date(n.date1),e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),new Date(a)<=e}));break;case"date2":if(!a)break;n=n.filter((function(t){var e=Object.values(t)[0],n=new Date(e.date1);return n=new Date(n.getFullYear(),n.getMonth(),n.getDate()),new Date(a)>=n}));break;case"task":if(!a)break;n=n.filter((function(t){return-1!==Object.values(t)[0].task.indexOf(a)}));break;case"status":if(!a)break;n=n.filter((function(t){return Object.values(t)[0].status===a}));break;case"tags":if(!a.length)break;n=n.filter((function(t){var e=Object.values(t)[0];return a.filter((function(t){return-1!==e.tags.indexOf(t)})).length}))}})),n}function Ie(){var t={todoTask:ae,todoDateFrom:ce,todoDateTo:ie,todoSelectedStatus:ue,tagsEl:se},e=on.getState().todos,n=Ae(t,!1);n&&(Qt.innerHTML=Fe(n,e),te.innerHTML="Фильтр")}function Ne(t,e,n,r){var o=e.calendarWrapper,a=e.monthWrapper;if(o&&a){if(o.style.display="block",a.style.display="none",r||(r=new Date),Nt.YEAR_MONTH_ROUTE.test(window.location.pathname)){var c=window.location.pathname.replace(/\/$/g,""),i=c.match(Nt.YEAR_ROUTE)[1],u=c.match(Nt.MONTH_ROUTE)[1];r=new Date(Number(i),Nt.MONTH_REF.indexOf(u),1)}var s,f=new Date(r.getFullYear(),r.getMonth(),1),l=f.getDay(),d=new Date(r.getFullYear(),r.getMonth()+1,0),p=d.getDate(),h=d.getDay(),y="<tr>";if(1!==l)for(var v=1;v<(l||7);v+=1)s=new Date(f.getFullYear(),f.getMonth(),f.getDate()-(l-v)),y+='\n                <td class="calendar-day outside c-sunday js-cal-option"\n                    data-date="'.concat(s.toLocaleDateString("ru-RU"),'">\n                    <div class="date">').concat(s.getDate(),"</div>\n                </td>\n            ");for(var g=function(t){var e=new Date(r.getFullYear(),r.getMonth(),t+1),o=e.toLocaleDateString("ru-RU");y+='\n                <td class="calendar-day current c-sunday js-cal-option"\n                data-date="'.concat(o,'">\n                    <div class="date">').concat(t+1,"</div>\n                ");var a=Me(n,{date1:"".concat(e," "),date2:"".concat(e," ")});a.length&&a.forEach((function(t,e){if(2==e&&a.length>3)y+='          \n                <div class="event all-day begin end" title="All Day Event">\n                   ...\n                </div>\n                ';else{var n=Object.values(t)[0];(a.length<=3||e<=2)&&(y+='          \n                <div class="event all-day begin end" title="All Day Event">\n                    '.concat(n.task,"\n                </div>\n                "))}})),y+="</td>",(l+t)%7||(y+="</tr><tr>")},b=0;b<p;b+=1)g(b);if(h%7)for(var m=h+1;m<=7;m+=1)s=new Date(d.getFullYear(),d.getMonth(),d.getDate()+m-h),y+='\n                <td class="calendar-day outside c-sunday js-cal-option"\n                    data-date="'.concat(s.toLocaleDateString("ru-RU"),'">\n                    <div class="date">').concat(s.getDate(),"</div>\n                </td>       \n        ");y+="</tr>",t.innerHTML=y}}function Fe(t,e){var n;n=t instanceof Date&&!isNaN(Number(t))?Me(e,{date1:"".concat(t),date2:"".concat(t)}):Me(e,t);var r="";return n.forEach((function(t){var e=Object.values(t)[0],n="";switch(e.status){case je.TASK_IN_PROCESS[0]:n="warning";break;case je.TASK_EXPIRED[0]:n="danger";break;case je.TASK_FULFILLED[0]:n="success"}r+='\n        <li class="list-group-item">\n                                    <div class="todo-indicator bg-warning"></div>\n                                    <div class="widget-content p-0">\n                                        <div class="widget-content-wrapper">\n                                            <div class="widget-content-left mr-2">\n                                                <div class="custom-checkbox custom-control">\n                                                    <input data-id="'.concat(Object.keys(t)[0],'" class="custom-control-input" type="checkbox">\n                                                </div>\n                                            </div>\n                                            <div class="widget-content-left">\n                                                <div class="widget-heading">').concat(e.task,'\n                                                </div>\n                                            </div>\n                                            <div class="widget-content-left">\n                                                <div class="widget-heading">Теги: ').concat(e.tags?e.tags.join(", "):"",'\n                                                </div>\n                                            </div>\n                                            <div class="widget-content-right">\n                                                <div class="badge badge-').concat(n,' ml-2">').concat(je[e.status][1],'</div>\n                                                <button data-action="').concat(je.UPDATE,'" data-id="').concat(Object.keys(t)[0],'" data-toggle="modal" data-target="#addTodoModalWrapper" class="border-0 btn btn-warning"><i\n                                                        class="fa fa-pencil"  aria-hidden="true"></i></button>\n                                                <button data-action="').concat(je.DELETE,'" data-id="').concat(Object.keys(t)[0],'" class="border-0 btn btn-danger"><i\n                                                        class="fa fa-trash-o" aria-hidden="true"></i></button>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </li>\n        ')})),r}function Ue(t,e){var n=function(){var t=Object.keys(je).filter((function(t){return-1!==t.indexOf("TASK")})),e="\n    <option>\n    </option>\n    ";return t.forEach((function(t){e+='\n            <option value="'.concat(t,'">').concat(je[t][1],"</option>\n        ")})),e}(),r='\n        <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>\n        <span id="inputSuccess2Status" class="sr-only">(success)</span>\n',o='<button id="'.concat(e,'-todo-btn" type="button" class="btn btn-primary btn-sm">Применить</button>'),a=e===je.ADD_MODE?"has-error":"";t.innerHTML='\n        <div id="todo-form">\n            <div class="form-group '.concat(a,' has-feedback">\n                <div class="input-group-prepend">\n                    <span class="input-group-text bold">\n                        <strong>Напоминание</strong>\n                    </span>\n                </div>\n                <input type="text" class="form-control" id="').concat(e,'-todo-task">\n                ').concat(e===je.ADD_MODE?r:"",'\n            </div>        \n            <div class="input-group mb-3 ').concat(a,'">\n                <div class="input-group-prepend">\n                    <span class="input-group-text">От</span>\n                </div>\n                <input class="form-control" id="').concat(e,'-todo-date-from" type="date">\n                 ').concat(e===je.ADD_MODE?r:"",'\n            </div>\n            <div class="input-group mb-3">\n                <div class="input-group-prepend">\n                    <span class="input-group-text">До</span>\n                </div>\n                <input class="form-control" id="').concat(e,'-todo-date-to" type="date">\n            </div>\n        \n            <div class="form-group mb-3 ').concat(a,'">\n                <div class="input-group-prepend">\n                    <label class="input-group-text"><strong>Статус</strong></label>\n                </div>\n                <select class="custom-select form-control" id="').concat(e,'-todo-selected-status">\n                    ').concat(n,'\n                </select>\n               \n            </div>\n            <p id="').concat(e,'-tags">Теги: </p>\n            <input id="').concat(e,'-tags-input" type="text">\n            ').concat(e===je.FILTER_MODE?o:"",'\n            <button type="reset" class="btn btn-secondary btn-sm">Сброс</button>\n        </div>\n    ');var c=document.getElementById("".concat(e,"-tags")),i=document.getElementById("".concat(e,"-tags-input"));i.addEventListener("change",(function(){if(!i.value.match(/^[a-zA-Z0-9]+$/))return i.value="",i.style.border="1px solid red",void(i.style.transition="border 1s");var t=c.innerHTML.split(": ")[1].split(",").filter((function(t){return""!==t})).length;i.style.border="",c.innerHTML+="".concat(t?",":""," ").concat(i.value),i.value=""}))}function Be(t,e,n){var r=n.currentMonthBtn,o=n.currentYearBtn,a=n.popover,c=n.popoverContent;if(e!==r)if(e!==o)if(e.closest("#popover")){var i=e.dataset.month?Nt.MONTH_RU.indexOf(e.dataset.month):t.getState().dates.currentMonth,u=e.dataset.year?Number(e.dataset.year):t.getState().dates.currentYear;t.dispatch(me({month:i,year:u})),a&&(a.style.display="none")}else a.style.display="none";else{var s=2*r.clientWidth+o.clientWidth,f=Array.from({length:10},(function(t,e){return e+2015}));Ye(t,{offset:s,type:"year",data:f,popover:a,popoverContent:c})}else Ye(t,{offset:r.clientWidth,type:"month",data:Nt.MONTH_RU,popover:a,popoverContent:c})}function Ye(t,e){var n=t.getState().dates,r=e.type,o=e.offset,a=e.data,c=e.popover,i=e.popoverContent;if(c&&"none"!==c.style.display&&r===c.dataset.type)return c.style.display="none",void(c.dataset.type="");i.innerHTML="",a.forEach((function(t,e){var o;o="number"==typeof t?"".concat(rn,"/year/").concat(t,"/month/").concat(Nt.MONTH_REF[n.currentMonth]):"".concat(rn,"/year/").concat(n.currentYear,"/month/").concat(Nt.MONTH_REF[e]),i.innerHTML+='\n            <a\n                type="button" class="btn btn-default btn-lg btn-block js-cal-option"\n                data-'.concat(r,'="').concat(t,'" href="').concat(o,'">').concat(t,"\n            </a>\n        ")})),c.style.display="block",c.style.top="46px",c.dataset.type="".concat(r),c.style.left="".concat((o-c.clientWidth)/2,"px")}var Ce=[{task:"first",date1:"".concat(new Date((new Date).setDate((new Date).getDate()+1))),status:je.TASK_EXPIRED[0],tags:["one","one_one"]},{task:"second",date1:"".concat(new Date((new Date).setDate((new Date).getDate()+4))),date2:"".concat(new Date((new Date).setDate((new Date).getDate()+6))),status:je.TASK_IN_PROCESS[0],tags:["two","two_two"]},{task:"three",date1:"".concat(new Date((new Date).setDate((new Date).getDate()+3))),status:je.TASK_FULFILLED[0],tags:["three","three_three"]},{task:"four",date1:"".concat(new Date((new Date).setDate((new Date).getDate()-25))),date2:"".concat(new Date((new Date).setDate((new Date).getDate()+22))),status:je.TASK_EXPIRED[0],tags:["four","four_four"]},{task:"five",date1:"".concat(new Date((new Date).setDate((new Date).getDate()+4))),status:je.TASK_IN_PROCESS[0],tags:["five","five_five"]},{task:"six",date1:"".concat(new Date((new Date).setDate((new Date).getDate()+4))),status:je.TASK_IN_PROCESS[0],tags:["six","six_six"]}];function He(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ge(t,e,n){return e&&Ke(t.prototype,e),n&&Ke(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function We(t,e){return We=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},We(t,e)}function Xe(t){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xe(t)}function $e(t,e){if(e&&("object"===Xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ze(t){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ze(t)}function Je(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function qe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Je(Object(n),!0).forEach((function(e){ut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ve=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je.STORAGE_LOCAL;He(this,t),this.schema=e,this.storageType=n,this.lastId=localStorage.length?Math.max.apply(Math,a(Object.keys(localStorage).map(Number)))+1:0}var e,n,r,c;return Ge(t,[{key:"validateSchema",value:function(t,e){if(!t)throw je.STATUS_ERROR;return Object.keys(t).forEach((function(t){if(!Object.hasOwnProperty.call(e,t)&&"date2"!==t)throw Error("".concat(je.STATUS_ERROR,": no ").concat(t," in schema"))})),je.STATUS_OK}},{key:"createItem",value:(c=i(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,this.validateSchema(e,this.schema),t.next=7;break;case 4:throw t.prev=4,t.t0=t.catch(0),t.t0;case 7:n=qe({},this.schema),Object.entries(e).forEach((function(t){var e=o(t,2),r=e[0],a=e[1];n[r]=a})),t.t1=this.storageType,t.next=t.t1===je.STORAGE_LOCAL?12:t.t1===je.STORAGE_DB?15:16;break;case 12:return localStorage.setItem("".concat(this.lastId),JSON.stringify(n)),this.lastId+=1,t.abrupt("break",17);case 15:case 16:return t.abrupt("break",17);case 17:return t.abrupt("return",this.lastId-1);case 18:case"end":return t.stop()}}),t,this,[[0,4]])}))),function(t){return c.apply(this,arguments)})},{key:"readItem",value:(r=i(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],t.t0=this.storageType,t.next=t.t0===je.STORAGE_LOCAL?4:t.t0===je.STORAGE_DB?8:9;break;case 4:if(Object.hasOwnProperty.call(localStorage,"".concat(e))){t.next=6;break}throw Error("".concat(je.STATUS_ERROR,": no ").concat(e," in storage"));case 6:return n=a(JSON.parse(localStorage.getItem("".concat(e)))),t.abrupt("break",10);case 8:case 9:return t.abrupt("break",10);case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"updateItem",value:(n=i(s().mark((function t(e,n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,this.validateSchema(e,this.schema),t.next=7;break;case 4:throw t.prev=4,t.t0=t.catch(0),t.t0;case 7:t.t1=this.storageType,t.next=t.t1===je.STORAGE_LOCAL?10:t.t1===je.STORAGE_DB?16:17;break;case 10:if(Object.hasOwnProperty.call(localStorage,"".concat(n))){t.next=12;break}throw Error("".concat(je.STATUS_ERROR,": no ").concat(n," in storage"));case 12:return r=qe({},JSON.parse(localStorage.getItem("".concat(n)))),Object.entries(e).forEach((function(t){var e=o(t,2),n=e[0],a=e[1];r[n]=a})),localStorage.setItem("".concat(n),JSON.stringify(r)),t.abrupt("break",18);case 16:case 17:return t.abrupt("break",18);case 18:case"end":return t.stop()}}),t,this,[[0,4]])}))),function(t,e){return n.apply(this,arguments)})},{key:"deleteItem",value:(e=i(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this.storageType,t.next=t.t0===je.STORAGE_LOCAL?3:t.t0===je.STORAGE_DB?7:8;break;case 3:if(Object.hasOwnProperty.call(localStorage,"".concat(e))){t.next=5;break}throw Error("".concat(je.STATUS_ERROR,": no ").concat(e," in storage"));case 5:return localStorage.removeItem("".concat(e)),t.abrupt("break",9);case 7:case 8:return t.abrupt("break",9);case 9:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}();var Ze=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&We(t,e)}(u,t);var e,n,r,c=(n=u,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=ze(n);if(r){var o=ze(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return $e(this,t)});function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:je.STORAGE_LOCAL;return He(this,u),c.call(this,t,e)}return Ge(u,[{key:"filter",value:(e=i(s().mark((function t(e){var n,r,c,i,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,this.validateSchema(e,this.schema),t.next=7;break;case 4:throw t.prev=4,t.t0=t.catch(0),t.t0;case 7:for(n=[],r=[],c=0,i=Object.keys(localStorage);c<i.length;c++)u=i[c],n.push(JSON.parse(localStorage.getItem(u)));t.t1=this.storageType,t.next=t.t1===je.STORAGE_LOCAL?13:t.t1===je.STORAGE_DB?15:16;break;case 13:return Object.entries(e).forEach((function(t){var e=o(t,2),c=e[0],i=e[1];r=n.filter((function(t){if(Array.isArray(t[c])){var e=!1;return i.forEach((function(n){-1!==t[c].indexOf(n)&&(e=!0)})),e}return"string"==typeof t[c]?-1!==t[c].indexOf(i):t[c]===i})),n=a(r)})),t.abrupt("break",17);case 15:case 16:return t.abrupt("break",17);case 17:return t.abrupt("return",n);case 18:case"end":return t.stop()}}),t,this,[[0,4]])}))),function(t){return e.apply(this,arguments)})}]),u}(Ve),Qe={task:"",date1:"".concat(new Date((new Date).setMonth((new Date).getMonth()+1))),status:je.TASK_IN_PROCESS[0],tags:[]};function tn(){var t=on.getState(),e=t.dates,n=t.todos;Ne(Zt,{calendarWrapper:Vt,monthWrapper:Jt},n,new Date(e.currentYear,e.currentMonth,1)),Fe(new Date(e.currentDate),n)}function en(t,e){var n=function(t){var e=[],n="",r="",o=0;function a(t,e){return!!(t instanceof RegExp&&t.test(e)||"function"==typeof t&&t(e)||t===e)}function c(){e.forEach((function(t){var e,o,c,i,u;o=(e=t).match,c=e.onEnter,i=e.onLeave,u={currentPath:n=window.location.pathname.replace(/\/$/g,""),prevPath:r,state:window.history.state,onLeave:i},a(o,n)&&c(u),a(o,r)&&i&&i(u)}))}return window.addEventListener("popstate",(function(){nn(window.location.pathname,t),c()})),{on:function(t,n,r){var a=o,c={id:a,match:t,onEnter:n,onLeave:r};return o+=1,e.push(c),a},go:function(t,e){r=n,window.history.pushState(e,"",t),c()},unsubscribe:function(t){e=e.filter((function(e){return e.id!==t}))}}}(t);return n.on((function(t){return t===rn}),tn),n.on(Nt.YEAR_ROUTE,(function(){var t=Number(window.location.pathname.match(Nt.YEAR_ROUTE)[1]),n=on.getState().dates.currentMonth;on.dispatch(me({month:n,year:t}));var r=e||Jt;r&&function(t){Vt.style.display="none",t.style.display="block";for(var e=on.getState(),n=e.todos,r=e.dates,o=r.currentYear,a="<ul>",c=0;c<Nt.MONTH_RU.length;c+=1){var i=new Date(o,c,1),u=new Date(o,c+1,0);a+='\n            <li class="calendar-month month-0 js-cal-option" data-date="'.concat(i,'">\n            <a href="').concat(rn,"/year/").concat(r.currentYear,"/month/").concat(Nt.MONTH_REF[c],'">').concat(Nt.MONTH_RU[c],'</a>\n                <span class="badge">').concat(Me(n,{date1:"".concat(i),date2:"".concat(u)}).length,"</span>\n            </li>\n        ")}a+="</ul>",t.innerHTML=a}(r)})),n.on(Nt.YEAR_MONTH_ROUTE,tn),n}function nn(t,e,n){if(t){var r=on;if(n&&(r=n),Nt.YEAR_MONTH_ROUTE.test(t)){var o=Number(t.match(Nt.YEAR_ROUTE)[1]),a=t.match(Nt.MONTH_ROUTE)[1];r.dispatch(me({month:Nt.MONTH_REF.indexOf(a),year:o}))}else"/"!==t&&t!==e||r.dispatch(me({month:(new Date).getMonth(),year:(new Date).getFullYear()}))}}var rn="/calendar",on=function(t){var e,n=function(t){return function(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,r=(t.immutableCheck,t.serializableCheck,new xt);return n&&(function(t){return"boolean"==typeof t}(n)?r.push(Ot):r.push(Ot.withExtraArgument(n.extraArgument))),r}(t)},r=t||{},o=r.reducer,a=void 0===o?void 0:o,c=r.middleware,i=void 0===c?n():c,u=r.devTools,s=void 0===u||u,f=r.preloadedState,l=void 0===f?void 0:f,d=r.enhancers,p=void 0===d?void 0:d;if("function"==typeof a)e=a;else{if(!function(t){if("object"!=typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return e===n}(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var o=e[r];"function"==typeof t[o]&&(n[o]=t[o])}var a,c=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:ht.INIT}))throw new Error(lt(12));if(void 0===n(void 0,{type:ht.PROBE_UNKNOWN_ACTION()}))throw new Error(lt(13))}))}(n)}catch(t){a=t}return function(t,e){if(void 0===t&&(t={}),a)throw a;for(var r=!1,o={},i=0;i<c.length;i++){var u=c[i],s=n[u],f=t[u],l=s(f,e);if(void 0===l)throw e&&e.type,new Error(lt(14));o[u]=l,r=r||l!==f}return(r=r||c.length!==Object.keys(t).length)?o:t}}(a)}var h=i;"function"==typeof h&&(h=h(n));var y=bt.apply(void 0,h),v=gt;s&&(v=Rt(At({trace:!1},"object"==typeof s&&s)));var g=[y];return Array.isArray(p)?g=St([y],p):"function"==typeof p&&(g=p(g)),vt(e,l,v.apply(void 0,g))}({reducer:{dates:ge.reducer,todos:ve.reducer}}),an=new Ze(Qe);window.addEventListener("load",(function(){_e();var t=function(){localStorage.clear();var t=[];return Ce.forEach(function(){var t=i(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,an.createItem(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Object.entries(localStorage).forEach((function(e){var n=o(e,2),r=n[0],a=n[1],c=ut({},r,JSON.parse(a));t.push(c)})),t}(),e=rn,n=en(e);if(on.dispatch(Ee(t)),on.subscribe((function(){!function(){var t=on.getState(),e=t.dates,n=t.todos,r=new Date(e.currentDate);_e(),Gt.innerHTML=Nt.MONTH_RU[e.currentMonth],Wt.innerHTML="".concat(e.currentYear),te.innerHTML="Планы на: ".concat(r.getDate(),".").concat(r.getMonth()+1,".").concat(r.getFullYear()),Qt.innerHTML=Fe(r,n),Xt.setAttribute("href","".concat(rn,"/year/").concat(e.currentYear)),$t.setAttribute("href","".concat(rn,"/year/").concat(e.currentYear,"/month/").concat(Nt.MONTH_REF[e.currentMonth])),Yt.setAttribute("href","".concat(rn,"/year/").concat(e.currentYear+(e.currentMonth+1>11?1:0),"/month/").concat(Nt.MONTH_REF[(e.currentMonth+1)%12])),Bt.setAttribute("href","".concat(rn,"/year/").concat(e.currentYear-(e.currentMonth-1<0?1:0),"/month/").concat(Nt.MONTH_REF[(e.currentMonth+11)%12])),(Nt.YEAR_MONTH_ROUTE.test(window.location.pathname)||window.location.pathname.replace(/\/$/g,"")===rn)&&(Ne(Zt,{calendarWrapper:Vt,monthWrapper:Jt},n,new Date(e.currentYear,e.currentMonth,1)),Fe(r,n));var o=document.querySelector('td[data-date="'.concat(r.toLocaleDateString("ru-RU"),'"]'));o&&o.classList.add("selected")}()})),on.dispatch(me({month:(new Date).getMonth(),year:(new Date).getFullYear()})),!qt)return on;Ue(qt,je.FILTER_MODE),oe=document.getElementById("filter-todo-btn"),ae=document.getElementById("filter-todo-task"),ce=document.getElementById("filter-todo-date-from"),ie=document.getElementById("filter-todo-date-to"),ue=document.getElementById("filter-todo-selected-status"),se=document.getElementById("filter-tags"),Ue(re,je.ADD_MODE),fe=document.getElementById("add-todo-task"),le=document.getElementById("add-todo-date-from"),de=document.getElementById("add-todo-date-to"),pe=document.getElementById("add-todo-selected-status"),he=document.getElementById("add-tags"),fe.classList.add("has-feedback"),window.location.pathname.replace(/\/$/g,"")!==rn&&(nn(window.location.pathname,e),n.go(window.location.pathname)),oe.addEventListener("click",Ie),ee.addEventListener("click",(function(){var t=Array.from(document.querySelectorAll("input[type=checkbox]")).filter((function(t){return t.checked}));if(t){var e=[];t.forEach(function(){var t=i(s().mark((function t(n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.dataset.id,e.push("".concat(r));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),on.dispatch(Te(e)),e.forEach(function(){var t=i(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,an.deleteItem(Number(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}));var r="";return ne.addEventListener("click",i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xe(r);case 2:r=t.sent;case 3:case"end":return t.stop()}}),t)})))),document.body.addEventListener("click",function(){var t=i(s().mark((function t(c){var i,u,f,l,d,p,h,y,v,g,b,m;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=c.target){t.next=3;break}return t.abrupt("return");case 3:if(c.target.matches("a")&&(c.preventDefault(),s=zt,w=c.target,-1!==s.indexOf(w)&&(s.forEach((function(t){return t.classList.remove("active")})),w.classList.add("active")),nn(u=c.target.getAttribute("href"),e),n.go(u),c.target===Ct&&on.dispatch(we({date:(new Date).toDateString()}))),Be(on,i,{currentMonthBtn:Gt,currentYearBtn:Wt,popover:Ht,popoverContent:Kt}),!(f=i.closest("td"))||!f.dataset.date){t.next=10;break}return l=new Date(a(f.dataset.date.split(".").reverse())),on.dispatch(we({date:l.toDateString()})),t.abrupt("return");case 10:if(i.closest('[data-target="#addTodoModalWrapper"]')&&(re.reset(),he.innerHTML="Теги: "),i.closest("[data-action]")){t.next=13;break}return t.abrupt("return");case 13:if(d=i.closest("[data-action]"),p=d.dataset.id,d.dataset.action===je.UPDATE&&(r=p,h=on.getState(),y=h.todos,v=y.filter((function(t){return Object.keys(t)[0]===p}))[0][p],fe.value=v.task,g=new Date(v.date1).toLocaleDateString("ru-RU").split(".").reverse().join("-"),le.value="".concat(g),de.value="",v.date2&&(b=new Date(v.date2).toLocaleDateString("ru-RU").split(".").reverse().join("-"),de.value="".concat(b)),m=o(je[v.status],1),pe.value=m[0],v.tags&&v.tags.length&&(he.innerHTML="Теги: ".concat(v.tags.join(", "))),ke(Re())),d.dataset.action!==je.DELETE){t.next=20;break}return t.next=19,an.deleteItem(Number(p));case 19:on.dispatch(Te([p]));case 20:case"end":return t.stop()}var s,w}),t)})));return function(e){return t.apply(this,arguments)}}()),on}))}()}();